{"version":3,"sources":["scripts/main.js"],"names":["LIST_URL","DETAILS_URL","ul","document","createElement","phonesWithDetails","getData","url","fetch","then","res","ok","headers","get","includes","json","setTimeout","Promise","reject","status","getPhones","result","map","el","getPhonesDetails","push","id","li","innerText","name","append","body"],"mappings":";AAAA,aAEA,IAAMA,EAAW,wEACXC,EAAc,oEAEdC,EAAKC,SAASC,cAAc,MAC5BC,EAAoB,GAEpBC,EAAU,SAACC,GACRC,OAAAA,MAAMD,GACVE,KAAK,SAAAC,GACA,OAACA,EAAIC,GAOJD,EAAIE,QAAQC,IAAI,gBAAgBC,SAAS,oBAMvCJ,EAAIK,OALFC,WAAW,WAChBC,QAAQC,OAAO,kCACd,KATIF,WAAW,WAChBC,QAAQC,OAAUR,GAAAA,OAAAA,EAAIS,OAAtB,gCACC,QAcLC,EAAY,WAChBd,EAAQN,GACLS,KAAK,SAAAY,GACGA,OAAAA,EAAOC,IAAI,SAAAC,GAGTC,OAFPnB,EAAkBoB,KAAKF,GAEhBC,EAAiBD,EAAGG,SAM7BF,EAAmB,SAACE,GACxBpB,EAAWL,GAAAA,OAAAA,GAAcyB,OAAAA,EAAzB,UACGjB,KAAK,SAAAY,GACEM,IAAAA,EAAKxB,SAASC,cAAc,MAElCC,EAAkBoB,KAAKJ,GAEvBM,EAAGC,UAAYP,EAAOQ,KACtB3B,EAAG4B,OAAOH,MAIhBxB,SAAS4B,KAAKD,OAAO5B,GACrBkB","file":"main.5f888796.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst LIST_URL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst DETAILS_URL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nconst ul = document.createElement('ul');\nconst phonesWithDetails = [];\n\nconst getData = (url) => {\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        return setTimeout(() => {\n          Promise.reject(`${res.status} and some other error text`);\n        }, 5000);\n        \n      };\n  \n      if (!res.headers.get('content-type').includes('application/json')) {\n        return setTimeout(() => {\n          Promise.reject('Content type is not supported');\n        }, 5000);\n      };\n\n      return res.json();\n    });\n};\n\nconst getPhones = () => {\n  getData(LIST_URL)\n    .then(result => {\n      return result.map(el => {\n        phonesWithDetails.push(el);\n\n        return getPhonesDetails(el.id);\n      });\n    })\n\n};\n\nconst getPhonesDetails = (id) => {\n  getData(`${DETAILS_URL}${id}.json`)\n    .then(result => {\n      const li = document.createElement('li');\n\n      phonesWithDetails.push(result);\n\n      li.innerText = result.name;\n      ul.append(li);\n    });\n};\n\ndocument.body.append(ul);\ngetPhones();\n"]}